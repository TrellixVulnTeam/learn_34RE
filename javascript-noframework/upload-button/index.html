<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
   <h1>Custom File Upload Button with File list</h1> 
   <div class="file-upload">
       <input type="file" class="file-upload__input" name="myFile[]" id="myFile" multiple>
       <button class="file-upload__button" type="button">Choose Files</button>
       <span class="file-upload__label"></span>
   </div>
   <script>
        document.querySelectorAll('.file-upload__button').forEach((button) => {
            console.log('---')
            console.log(button)
            const hiddenInput = button.parentElement.querySelector('.file-upload__input')
            console.log(hiddenInput)
            console.log("sdfsdfsfdf")
            console.dir(hiddenInput)
            const label = button.parentElement.querySelector('.file-upload__label')
            const defaultLabelText = 'No file(s) selected'
            // set default text for label
            //document.querySelector('.file-upload__label').textContent = defaultLabelText
            label.textContent = defaultLabelText
            label.title = defaultLabelText

            button.addEventListener('click', () => {
              hiddenInput.click()  
            })

            hiddenInput.addEventListener('change', (e) => {
                console.dir(e.target.value)
                label.textContent = e.target.value
                console.dir(hiddenInput.files)
            })
        }) 
   </script>
</body>
</html>